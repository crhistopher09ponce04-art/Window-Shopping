{% extends "base.html" %}
{% block content %}
<div class="card">
  <h2>ğŸ“ {{ t("Crear Cuenta", "Create Account", "åˆ›å»ºè´¦æˆ·") }}</h2>

  {% if error %}
    <div class="flash"><p>{{ error }}</p></div>
  {% endif %}

  <form method="POST" action="{{ url_for('register') }}">
    <div class="grid-3">
      <div>
        <label>{{ t("Nacionalidad", "Nationality", "å›½ç±") }}</label>
        <select name="nacionalidad" required>
          <option value="nacional" {% if nacionalidad=='nacional' %}selected{% endif %}>{{ t("Nacional", "National", "æœ¬å›½") }}</option>
          <option value="extranjero" {% if nacionalidad=='extranjero' %}selected{% endif %}>{{ t("Extranjero", "Foreign", "å›½å¤–") }}</option>
        </select>
      </div>
      <div>
        <label>{{ t("Tipo de perfil", "Profile type", "èµ„æ–™ç±»å‹") }}</label>
        <select name="perfil_tipo" required>
          <option value="compra_venta" {% if perfil_tipo=='compra_venta' %}selected{% endif %}>{{ t("Compra/Venta", "Buy/Sell", "ä¹°å–") }}</option>
          <option value="servicios" {% if perfil_tipo=='servicios' %}selected{% endif %}>{{ t("Servicios", "Services", "æœåŠ¡") }}</option>
        </select>
      </div>
      <div>
        <label>{{ t("Rol", "Role", "è§’è‰²") }}</label>
        <select name="rol" required id="rolSelect">
          {% if perfil_tipo=='servicios' %}
            {% for r in roles_srv %}<option value="{{ r }}">{{ r }}</option>{% endfor %}
          {% else %}
            {% for r in roles_cv %}<option value="{{ r }}">{{ r }}</option>{% endfor %}
          {% endif %}
        </select>
      </div>
    </div>

    <div class="grid-3">
      <div>
        <label>{{ t("Usuario", "Username", "ç”¨æˆ·å") }}</label>
        <input type="text" name="username" required>
      </div>
      <div>
        <label>{{ t("ContraseÃ±a", "Password", "å¯†ç ") }}</label>
        <input type="password" name="password" required>
      </div>
      <div>
        <label>{{ t("PaÃ­s (cÃ³digo ISO)", "Country (ISO code)", "å›½å®¶ï¼ˆISOä»£ç ï¼‰") }}</label>
        <input type="text" name="pais" placeholder="CL">
      </div>
    </div>

    <div class="grid-3">
      <div>
        <label>RUT</label>
        <input type="text" name="rut" placeholder="76.123.456-7">
      </div>
      <div>
        <label>{{ t("Correo electrÃ³nico", "Email", "é‚®ç®±") }}</label>
        <input type="email" name="email">
      </div>
      <div>
        <label>{{ t("TelÃ©fono", "Phone", "ç”µè¯") }}</label>
        <input type="text" name="phone">
      </div>
    </div>

    <label>{{ t("DirecciÃ³n", "Address", "åœ°å€") }}</label>
    <input type="text" name="address" placeholder="Calle, nÃºmero, ciudad">

    <input type="submit" value="{{ t('Crear Cuenta', 'Create Account', 'åˆ›å»ºè´¦æˆ·') }}">
  </form>

  <p class="mt-3">
    {{ t("Â¿Ya tienes cuenta?", "Already have an account?", "å·²æœ‰è´¦æˆ·ï¼Ÿ") }}
    <a href="{{ url_for('login') }}">ğŸ”‘ {{ t("Inicia sesiÃ³n", "Log in", "å»ç™»å½•") }}</a>
  </p>
</div>
{% endblock %}
